---
import { Header } from "@/components/header";
import { t } from "@/lib/i18n/translations";
import type { SupportedLang } from "@/lib/i18n/translations";

interface Props {
  title: string;
  lang?: string;
}

const { title, lang = 'fr' } = Astro.props;
const typedLang = (lang === 'nl' ? 'nl' : lang === 'en' ? 'en' : 'fr') as SupportedLang;
const searchPlaceholder = t(typedLang, 'header', 'searchPlaceholder');
---

<!doctype html>
<html lang={typedLang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{title}</title>
  </head>
  <body>
    <Header searchPlaceholder={searchPlaceholder} lang={typedLang} client:load />
    <slot />
  </body>
</html>
